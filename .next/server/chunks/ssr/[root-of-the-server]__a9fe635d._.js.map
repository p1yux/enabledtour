{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///D:/Programming/Projects/Sprint%20landing%20pages/Quick-broucher/broucher/src/components/custom/firebase/firebase.ts"],"sourcesContent":["import { initializeApp, getApps } from \"firebase/app\";\r\nimport { getFirestore, collection, addDoc, getDocs, updateDoc, deleteDoc, doc } from \"firebase/firestore\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\r\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\r\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\r\n};\r\n\r\nconst app = getApps().length ? getApps()[0] : initializeApp(firebaseConfig);\r\nexport const db = getFirestore(app);\r\n\r\n// Collections\r\nexport const REG_COLLECTION = \"registrations\";\r\nexport const NEWS_COLLECTION = \"newsletter\";\r\n\r\n// Helpers\r\nexport async function addRegistration(email: string) {\r\n  return addDoc(collection(db, REG_COLLECTION), { email, createdAt: Date.now() });\r\n}\r\n\r\nexport async function addNewsletter(email: string) {\r\n  return addDoc(collection(db, NEWS_COLLECTION), { email, createdAt: Date.now() });\r\n}\r\n\r\nexport async function getAll(collectionName: string) {\r\n  const snapshot = await getDocs(collection(db, collectionName));\r\n  return snapshot.docs.map((d) => ({ id: d.id, ...d.data() }));\r\n}\r\n\r\nexport async function updateById(collectionName: string, id: string, data: Record<string, unknown>) {\r\n  const ref = doc(db, collectionName, id);\r\n  await updateDoc(ref, data);\r\n}\r\n\r\nexport async function deleteById(collectionName: string, id: string) {\r\n  const ref = doc(db, collectionName, id);\r\n  await deleteDoc(ref);\r\n}\r\n\r\n\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AAAA;AACA;AAAA;;;AAEA,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;AACP;AAEA,MAAM,MAAM,IAAA,2KAAO,IAAG,MAAM,GAAG,IAAA,2KAAO,GAAE,CAAC,EAAE,GAAG,IAAA,iLAAa,EAAC;AACrD,MAAM,KAAK,IAAA,iLAAY,EAAC;AAGxB,MAAM,iBAAiB;AACvB,MAAM,kBAAkB;AAGxB,eAAe,gBAAgB,KAAa;IACjD,OAAO,IAAA,2KAAM,EAAC,IAAA,+KAAU,EAAC,IAAI,iBAAiB;QAAE;QAAO,WAAW,KAAK,GAAG;IAAG;AAC/E;AAEO,eAAe,cAAc,KAAa;IAC/C,OAAO,IAAA,2KAAM,EAAC,IAAA,+KAAU,EAAC,IAAI,kBAAkB;QAAE;QAAO,WAAW,KAAK,GAAG;IAAG;AAChF;AAEO,eAAe,OAAO,cAAsB;IACjD,MAAM,WAAW,MAAM,IAAA,4KAAO,EAAC,IAAA,+KAAU,EAAC,IAAI;IAC9C,OAAO,SAAS,IAAI,CAAC,GAAG,CAAC,CAAC,IAAM,CAAC;YAAE,IAAI,EAAE,EAAE;YAAE,GAAG,EAAE,IAAI,EAAE;QAAC,CAAC;AAC5D;AAEO,eAAe,WAAW,cAAsB,EAAE,EAAU,EAAE,IAA6B;IAChG,MAAM,MAAM,IAAA,wKAAG,EAAC,IAAI,gBAAgB;IACpC,MAAM,IAAA,8KAAS,EAAC,KAAK;AACvB;AAEO,eAAe,WAAW,cAAsB,EAAE,EAAU;IACjE,MAAM,MAAM,IAAA,wKAAG,EAAC,IAAI,gBAAgB;IACpC,MAAM,IAAA,8KAAS,EAAC;AAClB","debugId":null}},
    {"offset": {"line": 161, "column": 0}, "map": {"version":3,"sources":["file:///D:/Programming/Projects/Sprint%20landing%20pages/Quick-broucher/broucher/src/app/admin/page.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport { db, NEWS_COLLECTION, REG_COLLECTION, getAll, updateById, deleteById } from \"@/components/custom/firebase/firebase\";\r\n\r\nconst PASSWORD = \"Iamreal@123\";\r\n\r\nfunction Table({ title, rows, onDelete, onUpdate }) {\r\n  return (\r\n    <div className=\"mb-10\">\r\n      <h3 className=\"text-xl font-semibold mb-3\">{title}</h3>\r\n      <div className=\"overflow-auto rounded-lg border border-[#E7E7EA]\">\r\n        <table className=\"min-w-full text-sm text-[#1d191a]\">\r\n          <thead className=\"bg-[#F8F8FA] text-left\">\r\n            <tr>\r\n              <th className=\"px-3 py-2\">Email</th>\r\n              <th className=\"px-3 py-2\">Created</th>\r\n              <th className=\"px-3 py-2 w-32\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {rows.map((r) => (\r\n              <tr key={r.id} className=\"border-t border-[#F1F1F4]\">\r\n                <td className=\"px-3 py-2\">\r\n                  <input\r\n                    className=\"w-full border border-[#E7E7EA] rounded px-2 py-1\"\r\n                    defaultValue={r.email}\r\n                    onBlur={(e) => onUpdate(r.id, { email: e.target.value })}\r\n                  />\r\n                </td>\r\n                <td className=\"px-3 py-2 text-[#1d191a]\">\r\n                  {r.createdAt ? new Date(r.createdAt).toLocaleString() : \"\"}\r\n                </td>\r\n                <td className=\"px-3 py-2\">\r\n                  <button className=\"text-red-600\" onClick={() => onDelete(r.id)}>Delete</button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function AdminPage() {\r\n  const [authed, setAuthed] = useState(false);\r\n  const [input, setInput] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [regs, setRegs] = useState([]);\r\n  const [news, setNews] = useState([]);\r\n\r\n  async function load() {\r\n    setLoading(true);\r\n    const [a, b] = await Promise.all([\r\n      getAll(REG_COLLECTION),\r\n      getAll(NEWS_COLLECTION),\r\n    ]);\r\n    setRegs(a);\r\n    setNews(b);\r\n    setLoading(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    // Persist login across reloads\r\n    const saved = typeof window !== 'undefined' ? localStorage.getItem('adminAuthed') : null;\r\n    if (saved === 'true') setAuthed(true);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (authed) {\r\n      localStorage.setItem('adminAuthed', 'true');\r\n      load();\r\n    }\r\n  }, [authed]);\r\n\r\n  if (!authed) {\r\n    return (\r\n      <div className=\"min-h-screen bg-white\">\r\n        <div className=\"max-w-[900px] mx-auto px-4 py-20\">\r\n          <div className=\"mb-8\">\r\n            <h1 className=\"text-3xl font-bold text-[#1d191a]\">Admin Login</h1>\r\n            <p className=\"text-[#1d191a] mt-1\">Enter your password to access the dashboard.</p>\r\n          </div>\r\n          <form\r\n            onSubmit={(e) => {\r\n              e.preventDefault();\r\n              if (input === PASSWORD) setAuthed(true);\r\n              else alert(\"Wrong password\");\r\n            }}\r\n            className=\"flex gap-3\"\r\n          >\r\n            <input\r\n              type=\"password\"\r\n              className=\"border border-[#E7E7EA] text-[#1d191a] rounded px-3 py-2 flex-1\"\r\n              placeholder=\"Enter admin password\"\r\n              value={input}\r\n              onChange={(e) => setInput(e.target.value)}\r\n            />\r\n            <button className=\"bg-[#cd7f32] text-white rounded px-4\">Login</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-white text-[#1d191a]\">\r\n      <header className=\"border-b border-[#E7E7EA]\">\r\n        <div className=\"max-w-[1100px] mx-auto px-4 h-14 flex items-center justify-between\">\r\n          <h1 className=\"text-lg font-semibold\">Admin Dashboard</h1>\r\n          <div className=\"flex items-center gap-3\">\r\n            <button className=\"text-sm\" onClick={load}>{loading ? \"Loading...\" : \"Refresh\"}</button>\r\n            <button\r\n              className=\"text-sm text-[#cd7f32]\"\r\n              onClick={() => { localStorage.removeItem('adminAuthed'); setAuthed(false); }}\r\n            >\r\n              Logout\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </header>\r\n      <main className=\"max-w-[1100px] mx-auto px-4 py-8\">\r\n\r\n        <Table\r\n        title=\"Registrations\"\r\n        rows={regs}\r\n        onDelete={(id) => deleteById(REG_COLLECTION, id).then(load)}\r\n        onUpdate={(id, data) => updateById(REG_COLLECTION, id, data).then(load)}\r\n      />\r\n\r\n        <Table\r\n        title=\"Newsletter Subscribers\"\r\n        rows={news}\r\n        onDelete={(id) => deleteById(NEWS_COLLECTION, id).then(load)}\r\n        onUpdate={(id, data) => updateById(NEWS_COLLECTION, id, data).then(load)}\r\n      />\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n"],"names":[],"mappings":"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","debugId":null}}]
}